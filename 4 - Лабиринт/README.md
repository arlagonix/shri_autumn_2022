# Задание 4. Лабиринт

## Предварительная информация

Вам предстоит выполнить тестовое задание от Школы разработки интерфейсов.

Напомним, что необязательно решать все задачи — вы можете выбрать только те задания, которые ближе вам по уровню и теме. Отдельные задачи можно выполнять постепенно, в любом порядке и в удобное для вас время.

**Тема задачи «Лабиринт» – promise; средний уровень сложности.**

Теперь о том, как всё будет проходить:

- **Задачу нужно выполнить в течение 3 часов с момента нажатия на кнопку «Стартовать виртуальное соревнование»**. Поставить на паузу нельзя.
- Когда задание выполнено полностью, нажмите кнопку «Завершить». Отменить это действие уже не получится.
- Все задания нужно сдать до 23:59 14 сентября по московскому времени.

Значение ошибок можно посмотреть в верхнем меню платформы.

Если есть вопросы, связанные с заданиями и Яндекс Контестом, отправьте их здесь, через раздел «Сообщения». Мы постараемся ответить на них как можно скорее, но не гарантируем, что вы получите ответ до истечения срока, отведенного на выполнение задания.

Вопросы о Школе задавайте на frontendschool@yandex-team.ru.

Желаем удачи!

Команда Школы разработки интерфейсов

## Задание

Нужно написать и экспортировать функцию для выхода из лабиринта, при этом гарантируется, что выход есть всегда. Функция принимает на вход начальную точку start и объект game для взаимодействия с лабиринтом и должна вернуть точку `{ x, y }`, для которой `game.state(x, y).finish === true`

Не деструктурируйте game, ваше решение не будет проходить тесты.

Описание функции и параметров дано на Typescript, но функцию требуется написать на JS. Важно использовать именно `module.exports =` для экспорта функции.

```typescript
module.exports = function main(game: Game, start: Point): Promise<Point> {};
```

У game есть асинхронные функции, которые позволяют двигаться от любой ячейки влево, вправо, вверх или вниз. При попытке шагнуть в стену или из непосещённой клетки методы кидают ошибку. Также асинхронная функция получения состояния ячейки работает только для посещённых ячеек, для остальных – кидает ошибку.

Ось x в лабиринте идет слева-направа, y - сверху-вниз.

### Формат данных

```js
export interface Point {
  x: number;
  y: number;
}

export interface Game {
  // Попытаться шагнуть из клетки лабиринта вверх
  up(x: number, y: number): Promise<void>;
  // Попытаться шагнуть из клетки лабиринта вниз
  down(x: number, y: number): Promise<void>;
  // Попытаться шагнуть из клетки лабиринта влево
  left(x: number, y: number): Promise<void>;
  // Попытаться шагнуть из клетки лабиринта вправо
  right(x: number, y: number): Promise<void>;

  // Получить состояние клетки лабиринта
  state(
    x: number,
    y: number
  ): Promise<{
    top: boolean, // можно ли шагать вверх
    bottom: boolean, // можно ли шагать вниз
    left: boolean, // можно ли шагать влево
    right: boolean, // можно ли шагать вправо
    start: boolean, // ячейка - стартовая
    finish: boolean, // ячейка - финиш
  }>;
}
```

Для тестирования решения скачивайте приложенный файл `labyrinth-tester.zip` (ссылка "Скачать условие задачи" ниже), в нем в файле `src/main.js` можно писать решение и визуализировать прохождение лабиринта. Важно использовать именно `module.exports =` для экспорта функции (в архиве используется `export default` только для визуализации)

Тесты расположены в порядке увеличения размера лабиринта.

Если ваше решение проходит лишь некоторые тесты, то подумайте о том, как ускорить ваше решение. К примеру, постарайтесь не использовать `try catch` блоки. Кроме этого, для решения данной задачи могут помочь методы из Promise API https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise#методы

Есть следующие ограничения: 1. Ограничение времени: 10 секунд 2. Ограничение памяти: 64.0 Мб

Решение будет проверяться на Node 12.

Скачать условие задачи: [labyrinth-tester.zip](./labyrinth-tester.zip)
